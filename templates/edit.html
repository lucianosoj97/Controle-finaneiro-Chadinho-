<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <!-- Adicione o link para o arquivo CSS do Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Adicione o link para o arquivo CSS do Select2 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <!-- Seus arquivos CSS personalizados -->
    <link rel="stylesheet" href="/static/css/register.css">
    <link rel="stylesheet" href="/static/css/loading.css">
</head>
<body>
    <div id="loadingIndicator" style="display: none;">
        <img src="/static/gif/loading.gif" alt="Carregando..." />
    </div>
    <nav class="navbar custom-navbar flex-column custom-bg-color">
        <ul class="navbar-nav flex-row"> <!-- Adicionei a classe flex-row -->
            <li class="nav-item">
                <a class="nav-link" href="/dashboard">Tela Inicial</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/register">Novo cadastro</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/list">Lista/Editar Cadastros</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="/account_management">Gerenciar Contas</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/">Sair</a>
            </li>
        </ul>
    </nav>
    <div class="container">
        <h1>Editar Informações</h1>
        <form id="editForm" action="/update" method="POST">
            <input type="hidden" name="id" value="{{ person.id }}"> <!-- Campo oculto para enviar o ID da pessoa -->

            <div class="label-input">
                <label class="label-text" for="full_name">Nome completo:</label>
                <input type="text" id="full_name" name="full_name" value="{{ person.name }}" required>
            </div>
            <div class="label-input">
                <label class="label-text" for="cpf">CPF:</label>
                <input type="text" id="cpf" name="cpf" value="{{ person.cpf }}" required>
            </div>
            <div class="label-input">
                <label class="label-text" for="birth_date">Data de Nascimento:</label>
                <input type="date" id="birth_date" name="birth_date" value="{{ person.birth_date }}" required>
            </div>
            <div class="label-input">
                <label class="label-text" for="address">Endereço:</label>
                <input type="text" id="address" name="address" value="{{ person.address }}" required>
            </div>
            <div class="label-input">
                <label class="label-text" for="deposit_amount">Valor depositado:</label>
                <input type="text" id="deposit_amount" name="deposit_amount" value="R$ {{ person.value }}" required>
            </div>
            <div class="label-input">
                <label class="label-text" for="payment_percentage">Porcentagem paga:</label>
                <input type="text" id="payment_percentage" name="payment_percentage" value="{{ person.percentage }}%" required>
            </div>
            <div class="label-input">
                <label class="label-text" for="betting_house">Casa de aposta:</label>
                <select class="form-control select2" id="betting_house" name="betting_house" required>
                    <option value="{{ person.betting_house }}" selected>{{ person.betting_house }}</option>
                </select>
            </div>
            <input type="submit" id="btn-submit" value="Salvar">
        </form>
    </div>
    <!-- Scripts JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="/static/js/bettingHouses.js"></script>
    <script>
        $(document).ready(function() {
            // Inicializa o Select2 no elemento
            $('.select2').select2({
                placeholder: "Selecione uma casa de aposta",
                allowClear: true
            });

            // Seletor para o formulário de edição
            var editForm = $('#editForm');

            // Quando o formulário for enviado, mostrar o GIF de carregamento
            editForm.submit(function() {
                $('#loadingIndicator').show();
            });
        });
    </script>
    <img src="/static/image/Instagram.png" class="img-logo">
</body>
</html>
